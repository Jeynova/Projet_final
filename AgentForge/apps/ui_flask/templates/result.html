{% extends "base.html" %}
{% block content %}
  <h2>‚úÖ Projet g√©n√©r√© avec succ√®s !</h2>
  
  <div class="project-info">
    <h3>{{ name }}</h3>
    <p><strong>Status:</strong> 
      {% if status == "completed" %}
        <span class="status-success">‚úÖ Termin√©</span>
      {% elif status == "needs_fix" %}
        <span class="status-warning">‚ö†Ô∏è Corrections n√©cessaires</span>
      {% else %}
        <span class="status-info">‚ÑπÔ∏è {{ status }}</span>
      {% endif %}
    </p>
    
    <!-- NEW: Information sur le mode LLM utilis√© -->
    {% if llm_info %}
    <p><strong>Mode de g√©n√©ration:</strong> 
      <span class="llm-mode-used">{{ llm_info.mode_name }}</span>
    </p>
    {% endif %}
    
    <!-- NEW: Affichage de la d√©cision technique IA -->
    {% if tech %}
    <div class="tech-selection">
      <h4>ü§ñ D√©cision IA (Stack Technique)</h4>
      <pre class="tech-json">{{ tech | tojson(indent=2) }}</pre>
    </div>
    {% endif %}
    
    <div class="actions">
      <a href="{{ download_url }}" class="btn btn-primary">üì¶ T√©l√©charger ZIP</a>
      {% if project_id %}
        <form method="post" action="/push-image/{{ project_id }}" style="display:inline">
          <button type="submit" class="btn btn-secondary">üê≥ Build & Push Docker</button>
        </form>
      {% endif %}
    </div>
  </div>

  <details open>
    <summary><strong>Logs de g√©n√©ration</strong></summary>
    <pre class="logs">{% for log in logs %}{{ log }}
{% endfor %}</pre>
  </details>
  
  <details>
    <summary><strong>Prompt d'origine</strong></summary>
    <pre>{{ prompt }}</pre>
  </details>
  
  <p><strong>Chemin du projet:</strong> <code>{{ project_path }}</code></p>
  
  <a href="/">üè† Retour √† l'accueil</a>
{% endblock %}
